{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/TIL&TEL_21-09-12/","result":{"data":{"markdownRemark":{"id":"e4426554-fca3-50c5-b248-aa89c1389e05","html":"<h2 id=\"til-today-i-learned\" style=\"position:relative;\"><a href=\"#til-today-i-learned\" aria-label=\"til today i learned permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TIL( Today I Learned)</h2>\n<h3 id=\"21-09-06-월\" style=\"position:relative;\"><a href=\"#21-09-06-%EC%9B%94\" aria-label=\"21 09 06 월 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>21-09-06 월</h3>\n<ul>\n<li>\n<p>django</p>\n<ul>\n<li>\n<p>from asgiref.sync import async<em>to</em>sync</p>\n<ul>\n<li>django는 1 request가 동일 스레드에서 실행된다고 가정한다.</li>\n<li>\n<p>thread_sensitive=True (the default)</p>\n<ul>\n<li>이 코드에 잠재적 인 호환성 문제를 도입하는 대신 기존의 모든 Django 동기화 코드가 동일한 스레드에서 실행되므로 비동기 모드와 완전히 호환되도록이 모드를 추가하는 것을 선택했습니다. 동기화 코드는 항상 이를 호출하는 비동기 코드 <em>와 다른</em> 스레드에 있으므로 원시 데이터베이스 핸들이나 기타 스레드에 민감한 참조를 전달하지 않아야합니다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Admin 작업들 확인하기</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"21-09-07-화\" style=\"position:relative;\"><a href=\"#21-09-07-%ED%99%94\" aria-label=\"21 09 07 화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>21-09-07 화</h3>\n<ul>\n<li>\n<p>Django Multi DB schema 그리고 정합성 여부 진행</p>\n<ul>\n<li>make relation</li>\n<li>control code create</li>\n<li>\n<p>test cases</p>\n<ul>\n<li>transaction</li>\n<li>1toM</li>\n<li>m2m</li>\n<li>mto1</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"21-09-08-수\" style=\"position:relative;\"><a href=\"#21-09-08-%EC%88%98\" aria-label=\"21 09 08 수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>21-09-08 수</h3>\n<ul>\n<li>\n<p>async</p>\n<ul>\n<li>\n<p>m async 묶어서 생성이 가능한가?</p>\n<ul>\n<li>1 to m </li>\n<li>m to  1 </li>\n<li>m to m </li>\n<li>\n<p>M 작업을 async loop에 던진다!!</p>\n<ul>\n<li>nested loop okay?</li>\n</ul>\n</li>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"asyncdef async_view(request):\"><pre class=\"language-asyncdef async_view(request):\"><code class=\"language-asyncdef async_view(request):\">  loop = asyncio.get_event_loop()\n  loop.create_task(http_call_async())\n  return HttpResponse(&#39;Non-blocking HTTP request&#39;)```</code></pre></div>\n</li>\n<li>\n<p>옵션들? 비동기 트라이 트라이</p>\n<ul>\n<li>태스크로 만들까? </li>\n<li>코루틴으로 만들어서 한번에 코루틴을 실행할까?</li>\n<li>\n<p>asyncio.get<em>running</em>loop()</p>\n<ul>\n<li>현재 OS 스레드에서 실행 중인 이벤트 루프를 반환합니다.</li>\n</ul>\n</li>\n<li>\n<p>asyncio.get<em>event</em>loop()</p>\n<ul>\n<li>현재의 이벤트 루프를 가져옵니다.</li>\n</ul>\n</li>\n<li>\n<p>asyncio.run()</p>\n<ul>\n<li>이 함수는 항상 새 이벤트 루프를 만들고 끝에 이벤트 루프를 닫습니다. asyncio 프로그램의 메인 진입 지점으로 사용해야 하고, 이상적으로는 한 번만 호출해야 합니다.</li>\n</ul>\n</li>\n<li>\n<p>한개의 aw</p>\n<ul>\n<li>await</li>\n</ul>\n</li>\n<li>\n<p>debuging</p>\n<ul>\n<li>=> Debug 모드 세팅</li>\n</ul>\n</li>\n<li>\n<p>여러개의 awaitable</p>\n<ul>\n<li>\n<p>asyncio.gather() => 결과값 list, 동시에 결과값 받을 수 있다.</p>\n<ul>\n<li><em>aws</em> 시퀀스에 있는 <a href=\"https://docs.python.org/ko/3/library/asyncio-task.html#asyncio-awaitables\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">어웨이터블 객체</a>를 <em>동시에</em> 실행합니다.</li>\n<li><em>aws</em>에 있는 어웨이터블이 코루틴이면 자동으로 태스크로 예약됩니다.</li>\n<li>모든 어웨이터블이 성공적으로 완료되면, 결과는 반환된 값들이 합쳐진 리스트입니다. 결괏값의 순서는 <em>aws</em>에 있는 어웨이터블의 순서와 일치합니다.</li>\n<li><em>return_exceptions</em>가 False(기본값)면, 첫 번째 발생한 예외가 gather()를 기다리는 태스크로 즉시 전파됩니다. <em>aws</em> 시퀀스의 다른 어웨이터블은 <strong>취소되지 않고</strong> 계속 실행됩니다.</li>\n</ul>\n</li>\n<li>asyncio.as_completed() iteration, 먼저 처리된 것부터 받을 수 있다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"21-09-09-목\" style=\"position:relative;\"><a href=\"#21-09-09-%EB%AA%A9\" aria-label=\"21 09 09 목 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>21-09-09 목</h3>\n<ul>\n<li>\n<p>ForeignKey 없는 DB 검증하기</p>\n<ol>\n<li>\n<p>primary_key 적용 가능한지?</p>\n<ul>\n<li>\n<p>가능하다! </p>\n<ul>\n<li>단 warning이 뜬다.</li>\n</ul>\n</li>\n<li>두개 다 적용은 안된다.</li>\n</ul>\n</li>\n<li>\n<p>CRUD with </p>\n<ul>\n<li>\n<p>C 가능</p>\n<ul>\n<li></li>\n</ul>\n</li>\n<li>\n<p>R  제한적</p>\n<ul>\n<li>\n<p>M2M Mapping table 직접 사용이 안된다.</p>\n<ul>\n<li>\n<p>mapping table id 가 없다. all() 불가능 </p>\n<ul>\n<li>defer 사용해도 강제 적으로 id 가 들어간다.</li>\n</ul>\n</li>\n<li>filter 불가능</li>\n<li>get 불가능</li>\n<li>all()</li>\n<li>다리만 놓는다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>U</p>\n<ul>\n<li>가능</li>\n</ul>\n</li>\n<li>\n<p>D </p>\n<ul>\n<li>가능</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Chain Relation 가능??</p>\n<ul>\n<li>nested chaning 가능하다.</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>\n<p>테이블 릴레이션 걸기</p>\n<ul>\n<li>관계 끊겨 있는.. brand key ? ForeignKey 이어야 하나?</li>\n<li>\n<p>ForeignKey , blank True??? </p>\n<ul>\n<li>use either default=SOMETHING, blank=True, null=False </li>\n<li>\n<p>or blank=True, null=True,.</p>\n<ul>\n<li>\n<p>CharField.</p>\n<ul>\n<li>It’s suggested that use the blank=True <strong>alone</strong>, leaving null=False behind.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>db_constrait 끄면 어찌 되는지?</p>\n<ul>\n<li>\n<p>on_delete 는 장고에서 동작인가, DB에 지정인가?</p>\n<ul>\n<li>Django 에서 동작</li>\n<li>+ 다른 DB 작업이 ForeignKey 건드려도 삭제 못하게 막기 위한 조항들</li>\n<li>\n<p>db_constraint를 끄면 db 상에 ForeignKey constraint 적용을 한다.</p>\n<ul>\n<li>그래도 Django 상에서 동작은 한다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>21-09-10 금</p>\n<ul>\n<li>데이터 릴레이션 정리</li>\n<li>릴레이션 정책</li>\n</ul>\n<h2 id=\"tel-trial-and-error-log\" style=\"position:relative;\"><a href=\"#tel-trial-and-error-log\" aria-label=\"tel trial and error log permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TEL (Trial and Error Log)</h2>\n<h3 id=\"21-09-06\" style=\"position:relative;\"><a href=\"#21-09-06\" aria-label=\"21 09 06 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>21-09-06</h3>\n<ul>\n<li>\n<p>ERROR: AttributeError: module ‘MySQLdb.constants.FIELD_TYPE’ has no attribute ‘JSON’</p>\n<ul>\n<li>SITUATION: Poetry Initiating, django </li>\n<li>REASON: venv 세팅 안먹음?</li>\n<li>\n<p>SOLUTION:</p>\n<ul>\n<li>pip install mysqlclient==2.0.1</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"21-09-07\" style=\"position:relative;\"><a href=\"#21-09-07\" aria-label=\"21 09 07 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>21-09-07</h3>\n<ul>\n<li>\n<p>ERROR: Load key “~~.pem”: bad permissions</p>\n<ul>\n<li>SITUATION: ssh connect </li>\n<li>\n<p>REASON:</p>\n<ul>\n<li>권한문제이다</li>\n</ul>\n</li>\n<li>\n<p>SOLUTION:</p>\n<ul>\n<li>chmod 400 ~~.pem </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>ERROR: You must either define the environment variable DJANGO<em>SETTINGS</em>MODULE or call settings.configure() before accessing settings</p>\n<ul>\n<li>SITUATION: django 다른 파일 돌리기</li>\n<li>REASON: 환경 세팅을 안했다.</li>\n<li>\n<p>SOLUTION:</p>\n<ul>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"importos\"><pre class=\"language-importos\"><code class=\"language-importos\">os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;dj_rel_test.settings&#39;)\nimport django\ndjango.setup()```</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/posts/TIL&TEL_21-09-12/","tagSlugs":["/tag/til/","/tag/tel/"]},"frontmatter":{"date":"2021-09-12T01:23:45.678Z","description":" 21.09.06~21.09.12 배운것, 씨름한것들 ","tags":["TIL","TEL"],"title":" TIL&TEL 21.09.06~21.09.12  "}}},"pageContext":{"slug":"/posts/TIL&TEL_21-09-12/"}}}