{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/briefview_Query/","webpackCompilationHash":"810c470338f4fc1772c8","result":{"data":{"markdownRemark":{"id":"fe746dc3-ba5b-5161-a469-4063db154aef","html":"<h2 style=\"color:rgb(9, 136, 104)\"> query ? </h2>\n<p>장고는 QUERY를 몰라도 사용이 가능하도록 ORM (Object Relation Mapping) 을 통해 데이터 베이스를 선택한다. </p>\n<p>왜? DB 에서 사용하는 언어와, 객체지향 프로그래밍의 언어가 서로 다르기 때문에 ORM이 이를 중간에서 매개하는 역할을 한다. </p>\n<p>그래서 개발자는 Query 처리를 위해 Query문법을 배울 필요없이 기존 사용하던 언어로 Query를 사용 할 수 있다. </p>\n<h4 id=\"직접-쿼리를-입력하는것-장고를-이용하는것을-비교해보자\"><a href=\"#%EC%A7%81%EC%A0%91-%EC%BF%BC%EB%A6%AC%EB%A5%BC-%EC%9E%85%EB%A0%A5%ED%95%98%EB%8A%94%EA%B2%83-%EC%9E%A5%EA%B3%A0%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EB%8A%94%EA%B2%83%EC%9D%84-%EB%B9%84%EA%B5%90%ED%95%B4%EB%B3%B4%EC%9E%90\" aria-label=\"직접 쿼리를 입력하는것 장고를 이용하는것을 비교해보자 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>직접 쿼리를 입력하는것, 장고를 이용하는것을 비교해보자.</h4>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>email</th>\n<th>age</th>\n<th>contact</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>한바름</td>\n<td>barum@mail.com</td>\n<td>30</td>\n<td>010-1234-1234</td>\n</tr>\n</tbody>\n</table>\n<p>위 와 같은 데이터를 가진 User 라는 DB table 있다. 기본 데이터 처리 C.R.U.D. (Create, Read, Update, Delete) 를 해보자.</p>\n<ul>\n<li>\n<h6 id=\"새로운-user-정보-입력\"><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-user-%EC%A0%95%EB%B3%B4-%EC%9E%85%EB%A0%A5\" aria-label=\"새로운 user 정보 입력 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>새로운 User 정보 입력</strong></h6>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#Query\nINSERT INTO User \nVALUES(&#39;한바름2&#39;,&#39;barum2@mail.com&#39;,&#39;22&#39;,&#39;010-2234-2234&#39;); \n#Query문은 &quot;;&quot;으로 마무리를 꼭 해줘야 작동한다.</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#Django</span>\nUser<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"한바름2\"</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">=</span><span class=\"token string\">\"barum2@mail.com\"</span><span class=\"token punctuation\">,</span> \n\t\t\t\t\t\t\t\t\t\tage<span class=\"token operator\">=</span><span class=\"token string\">\"22\"</span><span class=\"token punctuation\">,</span> contact<span class=\"token operator\">=</span><span class=\"token string\">\"010-2234-2234\"</span><span class=\"token punctuation\">)</span>\n또는\n\nUser<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"한바름2\"</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">=</span><span class=\"token string\">\"barum2@mail.com\"</span><span class=\"token punctuation\">,</span> age<span class=\"token operator\">=</span><span class=\"token string\">\"32\"</span><span class=\"token punctuation\">,</span> \n     \tcontact<span class=\"token operator\">=</span><span class=\"token string\">\"010-2234-2234\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </code></pre></div>\n<ul>\n<li>\n<h6 id=\"id2-의-name-불러오기\"><a href=\"#id2-%EC%9D%98-name-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0\" aria-label=\"id2 의 name 불러오기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>id=2 의 name 불러오기</h6>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#Query \nSELECT name FROM USER WHERE id = 2;\n==&gt; 한바름2</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#Django</span>\nUser<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>name\n<span class=\"token operator\">==</span><span class=\"token operator\">></span> 한바름<span class=\"token number\">2</span></code></pre></div>\n<ul>\n<li>\n<h6 id=\"한바름2--한바름3-으로-바꾸기\"><a href=\"#%ED%95%9C%EB%B0%94%EB%A6%842--%ED%95%9C%EB%B0%94%EB%A6%843-%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EA%B8%B0\" aria-label=\"한바름2  한바름3 으로 바꾸기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>한바름2 ==> 한바름3 으로 바꾸기</h6>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#Query\nUPDATE User SET name=한바름3 WHERE id=2;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#Django</span>\nuser <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\nuser<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'한바름3'</span>\nuser<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </code></pre></div>\n<ul>\n<li>\n<h6 id=\"한바름3이-들어간-row-지우기\"><a href=\"#%ED%95%9C%EB%B0%94%EB%A6%843%EC%9D%B4-%EB%93%A4%EC%96%B4%EA%B0%84-row-%EC%A7%80%EC%9A%B0%EA%B8%B0\" aria-label=\"한바름3이 들어간 row 지우기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>한바름3이 들어간 row 지우기</h6>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#Query\nDELETE FROM User WHERE id = 3;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#Django</span>\nUser<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>기본 처리는 어렵지 않으나 DB가 가지고 있는 표현이나 계산들을 사용하기 위해서는 별도의 문법을 공부해야만 한다. </p>\n<h4 id=\"테이블에서-중복되는-값을-가져올-경우\"><a href=\"#%ED%85%8C%EC%9D%B4%EB%B8%94%EC%97%90%EC%84%9C-%EC%A4%91%EB%B3%B5%EB%90%98%EB%8A%94-%EA%B0%92%EC%9D%84-%EA%B0%80%EC%A0%B8%EC%98%AC-%EA%B2%BD%EC%9A%B0\" aria-label=\"테이블에서 중복되는 값을 가져올 경우 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테이블에서 중복되는 값을 가져올 경우</h4>\n<p>UserHomepage 테이블에서 User의 name을 불러오기 </p>\n<p>User</p>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>email</th>\n<th>age</th>\n<th>contact</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>한바름</td>\n<td>barum@mail.com</td>\n<td>30</td>\n<td>010-1234-1234</td>\n</tr>\n<tr>\n<td>2</td>\n<td>한바름3</td>\n<td>barum2@mail.com</td>\n<td>22</td>\n<td>010-2234-2234</td>\n</tr>\n</tbody>\n</table>\n<p>UserHomepage</p>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>user_id</th>\n<th>homepage</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>Barum</td>\n</tr>\n<tr>\n<td>2</td>\n<td>2</td>\n<td>Barum3</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">#Query\nSELECT name\nFROM UserHomepage\nLEFT JOIN User\nON UserHomepage.user_id = User.id\nWHERE User.id = 1;</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#Django</span>\nUserHomepage<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>select_related<span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>name</code></pre></div>","fields":{"slug":"/posts/briefview_Query/","tagSlugs":["/tag/django/","/tag/query/","/tag//"]},"frontmatter":{"date":"2019-09-11T01:23:45.678Z","description":"장고는 ORM으로 Query를 몰라도 사용이 가능하게 해준다. 그러면 Query를 알수가 없잖아. 그러니까 Query 도전","tags":["Django","Query",""],"title":"Query 알아보기"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/briefview_Query/"}}}