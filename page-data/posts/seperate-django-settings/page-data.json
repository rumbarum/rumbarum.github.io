{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/seperate-django-settings/","webpackCompilationHash":"0f5a9a55e3b625b8dc03","result":{"data":{"markdownRemark":{"id":"0fa92293-35a5-511f-89fb-73b983c4f9db","html":"<p><a href=\"https://rumbarum.github.io/posts/understanding-django-settings/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">앞선 글</a> 에선 장고 세팅에 설정 되는 값들을 알아보았다. </p>\n<p>장고 연습이 아닌, 프로젝트를 진행하게 되면 production이 동작할 환경, develop 서버에서 돌아갈 환경, local 서버에서 돌아갈 환경등을 세팅하게 된다. 경우에 따라 더 늘어나거나 줄어들거나 할수도 있다. </p>\n<p>django 프로젝트를 처음 열게 되면, <code class=\"language-text\">settings.py</code>는  한개 밖에 존재하지 않는다. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/05fb8f7d85a5e4b2f3f77db9decddbfd/67d4f/sc_1_80398.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHJipcgX//EABUQAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEBAAEFAmt//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFRABAQAAAAAAAAAAAAAAAAAAICH/2gAIAQEAAT8hhf/aAAwDAQACAAMAAAAQYy//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAYEAEAAwEAAAAAAAAAAAAAAAABECExgf/aAAgBAQABPxBgA1LvJx2f/9k='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/05fb8f7d85a5e4b2f3f77db9decddbfd/01472/sc_1_80398.webp 240w,\n/static/05fb8f7d85a5e4b2f3f77db9decddbfd/222bd/sc_1_80398.webp 480w,\n/static/05fb8f7d85a5e4b2f3f77db9decddbfd/a7632/sc_1_80398.webp 700w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/05fb8f7d85a5e4b2f3f77db9decddbfd/3bc27/sc_1_80398.jpg 240w,\n/static/05fb8f7d85a5e4b2f3f77db9decddbfd/98431/sc_1_80398.jpg 480w,\n/static/05fb8f7d85a5e4b2f3f77db9decddbfd/67d4f/sc_1_80398.jpg 700w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/05fb8f7d85a5e4b2f3f77db9decddbfd/67d4f/sc_1_80398.jpg\"\n          alt=\"초기 생성한 프로젝트 이미지\"\n          title=\"초기 생성한 프로젝트 이미지\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>어떻게 쪼갤 수 있을까 ? </p>\n<p>방법은 간단하다. 공통적으로 들어가는 세팅값 ( INSTALLED_APPS 나 MIDDLEWARE) 은 하나로 쓰고, 달라지는 값 (DEBUG, DATABASE)등을 쪼개면 된다. </p>\n<p>이름은 짓기 나름인데, 내가 봤던 경우들은</p>\n<ol>\n<li>base.py &#x3C;== 공통 settings.py</li>\n<li>product.py &#x3C;== 실제 사용할 settings.py</li>\n<li>develop.py &#x3C;== 개발 테스트 settings.py</li>\n<li>\n<p>local.py &#x3C;== 개발자 개발용 settings.py</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 700px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f8f4bffbcfc657af8848810457ab00df/67d4f/sc_2_80398.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.71428571428571%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHJi4cgX//EABYQAQEBAAAAAAAAAAAAAAAAABABQf/aAAgBAQABBQLCv//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABYQAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAQABPyFaxf/aAAwDAQACAAMAAAAQIC//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAACAwEAAAAAAAAAAAAAAAABERAhMUH/2gAIAQEAAT8QUNoul0TvP//Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/f8f4bffbcfc657af8848810457ab00df/01472/sc_2_80398.webp 240w,\n/static/f8f4bffbcfc657af8848810457ab00df/222bd/sc_2_80398.webp 480w,\n/static/f8f4bffbcfc657af8848810457ab00df/a7632/sc_2_80398.webp 700w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/f8f4bffbcfc657af8848810457ab00df/3bc27/sc_2_80398.jpg 240w,\n/static/f8f4bffbcfc657af8848810457ab00df/98431/sc_2_80398.jpg 480w,\n/static/f8f4bffbcfc657af8848810457ab00df/67d4f/sc_2_80398.jpg 700w\"\n          sizes=\"(max-width: 700px) 100vw, 700px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/f8f4bffbcfc657af8848810457ab00df/67d4f/sc_2_80398.jpg\"\n          alt=\"분리된 세팅\"\n          title=\"분리된 세팅\"\n        />\n      </picture>\n  </a>\n    </span></p>\n</li>\n</ol>\n<p>정도로 나눠서 세팅을 구분했다. </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#base.py </span>\n<span class=\"token keyword\">import</span> os\n\nBASE_DIR <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>dirname<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>dirname<span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>abspath<span class=\"token punctuation\">(</span>__file__<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nSECRET_KEY <span class=\"token operator\">=</span> <span class=\"token string\">'SECRET_KEY'</span>\n\nINSTALLED_APPS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'django.contrib.admin'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.auth'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.contenttypes'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.sessions'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.sites'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.messages'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.staticfiles'</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">]</span>\n\n\nMIDDLEWARE <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'django.middleware.security.SecurityMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.contrib.sessions.middleware.SessionMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'corsheaders.middleware.CorsMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.middleware.common.CommonMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'django.middleware.csrf.CsrfViewMiddleware'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'corsheaders.middleware.CorsPostCsrfMiddleware'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">]</span>\n\nROOT_URLCONF <span class=\"token operator\">=</span> <span class=\"token string\">'beautifur_awsome_project.urls'</span>\n\nTEMPLATES <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'BACKEND'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.template.backends.django.DjangoTemplates'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'DIRS'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'templates'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'APP_DIRS'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'OPTIONS'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'context_processors'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token string\">'django.template.context_processors.debug'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'django.template.context_processors.request'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'django.contrib.auth.context_processors.auth'</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">'django.contrib.messages.context_processors.messages'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\nAUTHENTICATION_BACKENDS <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'django.contrib.auth.backends.ModelBackend'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span>\n\nWSGI_APPLICATION <span class=\"token operator\">=</span> <span class=\"token string\">'beautiful_awosome_project.wsgi.application'</span>\n\nAUTH_PASSWORD_VALIDATORS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'NAME'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'NAME'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.contrib.auth.password_validation.MinimumLengthValidator'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'NAME'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.contrib.auth.password_validation.CommonPasswordValidator'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'NAME'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.contrib.auth.password_validation.NumericPasswordValidator'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\nLANGUAGE_CODE <span class=\"token operator\">=</span> <span class=\"token string\">'ko-KR'</span>\n\nTIME_ZONE <span class=\"token operator\">=</span> <span class=\"token string\">'Asia/Seoul'</span>\n\nUSE_I18N <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\nUSE_L10N <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\nUSE_TZ <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># product.py</span>\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>base <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n\nDEBUG <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span> \n<span class=\"token comment\"># 꼭꼭꼭 까먹지 말아야한다. </span>\nALLOWED_HOSTS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">]</span>\n\nCORS_ORIGIN_ALLOW_ALL <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\nDATABASES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'default'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'ENGINE'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.db.backends.postgresql_psycopg2'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'NAME'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'prod_db_name'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'USER'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'prod_db_user'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'PASSWORD'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'prod_db_password'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'HOST'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'prod_db_host'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'PORT'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'prod_db_port'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nWSGI_APPLICATION <span class=\"token operator\">=</span> <span class=\"token string\">'beautiful_awosome_project.wsgi.application'</span>\n\n<span class=\"token comment\">#그외 추가 적인 세팅</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># local.py </span>\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>base <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n\nDEBUG <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span> \n \nALLOWED_HOSTS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'*'</span><span class=\"token punctuation\">]</span>\n\nCORS_ORIGIN_ALLOW_ALL <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\nDATABASES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'default'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'ENGINE'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'django.db.backends.postgresql_psycopg2'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'NAME'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'local_db_name'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'USER'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'local_db_user'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'PASSWORD'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'local_db_password'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'HOST'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'local_db_host'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'PORT'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'local_db_port'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nWSGI_APPLICATION <span class=\"token operator\">=</span> <span class=\"token string\">'beautiful_awosome_project.wsgi.application'</span>\n\n<span class=\"token comment\">#그외 추가 적인 세팅</span></code></pre></div>\n<p>이렇게 세팅을 잡아놓으면 편하게 사용이 가능하다. </p>","fields":{"slug":"/posts/seperate-django-settings/","tagSlugs":["/tag/django/","/tag/setting/","/tag/wecode/"]},"frontmatter":{"date":"2020-05-10T01:23:45.679Z","description":"Django 개발과 프로덕션 설정을 쉽게 분리하는 방법 ","tags":["django","setting","wecode"],"title":" Django settings.py 분리하기"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/seperate-django-settings/"}}}